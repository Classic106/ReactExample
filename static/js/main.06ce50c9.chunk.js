(this.webpackJsonpreact_js=this.webpackJsonpreact_js||[]).push([[0],{29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),a=n(17),r=n.n(a),s=(n(29),n(30),n(31),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),a(t),r(t)}))}),o=n(5),l=n(12),j=n(3),u=n(16),d=n(24),b=n(9),p=n(10),m=function(t){var e=localStorage.getItem(t);return e&&"undefined"!==e?JSON.parse(e):[]},O=function(t,e){e?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t)},h=function(t){return 1e3*t.split(":").reduce((function(t,e,n,c){if(1===c.length)return t+3600*+e;if(2===c.length){if(0===n)return t+3600*+e;if(1===n)return t+60*+e}if(3===c.length){if(0===n)return t+3600*+e;if(1===n)return t+60*+e;if(2===n)return t+ +e}if(4===c.length){if(0===n)return t+3600*+e*60;if(1===n)return t+3600*+e;if(2===n)return t+60*+e;if(3===n)return t+ +e/1e3}return t}),0)},f=m("participants"),x=[{competitionId:"1627510187912",id:1627510229603,name:"Igor",surname:"Igor",time:"00:00:10:244"},{competitionId:"1627510187912",id:1627510449603,name:"Oleg",surname:"Oleg",time:"00:00:08:124"},{competitionId:"1627510187912",id:1627510559603,name:"Maxim",surname:"Maxim",time:"00:00:12:422"},{competitionId:"1627510053721",id:1628510559603,name:"Egor",surname:"Egor",time:"00:00:15:422"},{competitionId:"1627510053721",id:1628510559603,name:"Pavel",surname:"Pavel",time:"00:00:12:422"},{competitionId:"1627510053721",id:1628510559603,name:"Oleg",surname:"Oleg",time:"00:00:11:422"}],v={participants:f.length?f:(O("participants",x),x)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_PARTICIPANT":if(t.participants.find((function(t){return t.id===e.payload.id})))return t;var n=[].concat(Object(p.a)(t.participants),[e.payload]);return Object(b.a)(Object(b.a)({},t),{},{participants:n});case"REMOVE_PARTICIPANT":var c=Object(p.a)(t.participants).filter((function(t){return t.id!==+e.payload&&t}));return Object(b.a)(Object(b.a)({},t),{},{participants:c});default:return t}},I=m("competitions"),N=[{id:"1627510053721",name:"run on 100 metres",status:"active",winner:null},{id:"1627510187912",name:"run on 60 meters",status:"finished",winner:{competitionId:"1627510187912",id:1627510229603,name:"Igor",surname:"Igor",time:"00:00:08:124"}}],S={competitions:I.length?I:(O("competitions",N),N)},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_COMPETITION":return Object(b.a)(Object(b.a)({},t),{},{competitions:[].concat(Object(p.a)(t.competitions),[e.payload])});case"SET_WINNER_COMPETITION":var n=Object(p.a)(t.competitions);for(var c in n)n[c].id===e.payload.id&&(n[c].winner=e.payload.winner,n[c].status="finished");return Object(b.a)(Object(b.a)({},t),{},{competitions:n});default:return t}},C=Object(u.combineReducers)({participants:g,competitions:y}),D=Object(u.createStore)(C,Object(d.composeWithDevTools)(Object(u.applyMiddleware)()));D.subscribe((function(){var t=D.getState(),e=t.competitions.competitions,n=t.participants.participants;0!==e.length?O("competitions",e):O("competitions"),0!==n.length?O("participants",n):O("participants")}));var T=D,w=n(4),P=n(0),E=function(t){var e=t.competition;return Object(P.jsxs)("div",{className:"participant",children:[Object(P.jsxs)("div",{className:"competitionInfo",children:[Object(P.jsxs)("p",{children:["ID: ",e.id]}),Object(P.jsxs)("p",{children:["Name: ",e.name]}),Object(P.jsxs)("p",{children:["Status: ",Object(P.jsx)("span",{className:"active"===e.status?"active":"notActive",children:e.status})]}),e.winner?Object(P.jsxs)("p",{children:["Winner: ",e.winner.name," ",e.winner.surname]}):Object(P.jsx)(P.Fragment,{})]}),Object(P.jsx)(l.b,{to:"/competition/".concat(e.id),children:Object(P.jsx)("button",{children:"Show"})})]})},F=function(){var t=Object(c.useState)(""),e=Object(w.a)(t,2),n=e[0],i=e[1],a=Object(c.useState)(null),r=Object(w.a)(a,2),s=r[0],j=r[1],u=Object(o.c)((function(t){return t.competitions})).competitions;return Object(P.jsxs)("div",{className:"competitions",children:[Object(P.jsx)(l.b,{to:"/create",children:Object(P.jsx)("button",{children:"Create competiton"})}),Object(P.jsx)("span",{children:"Find Competition"}),Object(P.jsx)("input",{type:"text",placeholder:"Enter competition name...",onChange:function(t){return i(t.target.value)}}),Object(P.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:[Object(P.jsx)("p",{children:"Status:"}),Object(P.jsxs)("select",{onChange:function(t){return j(t.target.value)},children:[Object(P.jsx)("option",{value:"null",children:"Default"}),Object(P.jsx)("option",{value:"finished",children:"Active"}),Object(P.jsx)("option",{value:"active",children:"Finished"})]})]}),Object(P.jsx)("div",{className:"participants",children:Object(p.a)(u).filter((function(t){return!!t.name.includes(n)&&!(s===t.status)})).map((function(t){return Object(P.jsx)(E,{competition:t},t.id)}))})]})},_=function(){var t=Object(o.b)(),e=Object(j.g)();return Object(P.jsx)("div",{children:Object(P.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c=n.target.name;if(c.value.length>0){var i={id:"".concat(Date.now()),name:c.value,status:"active",winner:null};t(function(t){return{type:"ADD_COMPETITION",payload:t}}(i)),e.push("/competition/".concat(i.id))}else alert("Fill rigth form!!!")},className:"registeredForm",children:[Object(P.jsx)("h3",{children:"Create competition"}),Object(P.jsx)("input",{type:"text",name:"name",placeholder:"Enter competition name..."}),Object(P.jsx)("button",{type:"submit",children:"Create"})]})})},M=function(t){var e=t.participant,n=t.button,c=Object(o.b)();return Object(P.jsxs)("div",{className:"participant",children:[Object(P.jsxs)("p",{children:["ID: ",e.id]}),Object(P.jsxs)("p",{children:["Name: ",e.name]}),Object(P.jsxs)("p",{children:["Time: ",e.time]}),!1===n?Object(P.jsx)(P.Fragment,{}):Object(P.jsx)("button",{onClick:function(){c({type:"REMOVE_PARTICIPANT",payload:e.id}),c({type:"WINNER"})},children:"Delete"})]})},A=function(t){var e=t.competition_participants,n=Object(c.useState)(""),i=Object(w.a)(n,2),a=i[0],r=i[1];return Object(P.jsxs)("div",{className:"catalog",children:[Object(P.jsx)("input",{type:"text",placeholder:"Enter participant name or ID...",onChange:function(t){return r(t.target.value)}}),Object(P.jsx)("div",{className:"participants",children:Object(p.a)(e).filter((function(t){return(""===a||!(!t.name.includes(a)&&!t.id.toString().includes(a)))&&t})).map((function(t){return Object(P.jsx)(M,{participant:t},t.name)}))})]})};function R(t){var e=t.setParticipantTime,n=t.setDisabledSave,i=t.setDisabledCancel,a=Object(c.useState)("00:00:00:00"),r=Object(w.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(0),j=Object(w.a)(l,2),u=j[0],d=j[1],b=Object(c.useState)(!1),p=Object(w.a)(b,2),m=p[0],O=p[1],h=Object(c.useState)(!1),f=Object(w.a)(h,2),x=f[0],v=f[1],g=Object(c.useState)(!0),I=Object(w.a)(g,2),N=I[0],S=I[1],y=Object(c.useState)(!0),C=Object(w.a)(y,2),D=C[0],T=C[1];return Object(c.useEffect)((function(){var t=null;return m?t=setInterval((function(){var t=new Date;o(function(t,e){var n=Math.floor(t/36e5%24),c=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3%60),a=Math.floor(t%1e3),r="".concat(1===n.toString().length?"0".concat(n):n),s="".concat(1===c.toString().length?"0".concat(c):c),o="".concat(1===i.toString().length?"0".concat(i):i),l="".concat(1===a.toString().length?"0".concat(a):a);return e?"".concat(r,":").concat(s,":").concat(o):"".concat(r,":").concat(s,":").concat(o,":").concat(l)}(t-u))}),11):(clearInterval(t),t=null),function(){clearInterval(t),t=null}}),[m,u]),Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)("h2",{children:"Timer"}),Object(P.jsxs)("div",{className:"timer",children:[Object(P.jsx)("h3",{children:s}),Object(P.jsxs)("div",{className:"buttons",children:[Object(P.jsx)("button",{className:"start",onClick:function(){"00:00:00:00"===s&&d(new Date),O(!0),n(!0),S(!1),i(!1)},disabled:x,children:"Start"}),Object(P.jsx)("button",{className:"stop",onClick:function(){S(!0),v(!0),T(!1),n(!1),i(!1),O(!1),e(s)},disabled:N,children:"Stop"}),Object(P.jsx)("button",{className:"reset",onClick:function(){T(!0),n(!0),S(!0),v(!1),i(!1),O(!1),d(0),o("00:00:00:00"),e("00:00:00:00")},disabled:D,children:"Reset"})]})]})]})}var k=function(t){var e=t.competitionId,n=Object(o.b)(),i=Object(c.useState)(!1),a=Object(w.a)(i,2),r=a[0],s=a[1],l=Object(c.useState)({}),j=Object(w.a)(l,2),u=j[0],d=j[1],p=Object(c.useState)(""),m=Object(w.a)(p,2),O=m[0],h=m[1],f=Object(c.useState)(!1),x=Object(w.a)(f,2),v=x[0],g=x[1],I=Object(c.useState)(!0),N=Object(w.a)(I,2),S=N[0],y=N[1];return Object(P.jsx)("div",{className:"registration",children:r?Object(P.jsxs)("div",{className:"registeredParticipant",children:[Object(P.jsx)("h4",{children:"Participant"}),Object(P.jsxs)("p",{children:["ID: ",u.id]}),Object(P.jsxs)("p",{children:["Participant: ","".concat(u.name," ").concat(u.surname)]}),Object(P.jsx)(R,{setParticipantTime:h,setDisabledSave:y,setDisabledCancel:g}),Object(P.jsxs)("div",{className:"buttons",children:[Object(P.jsx)("button",{className:"continue",onClick:function(){d({}),s(!1)},disabled:v,children:"Cancel"}),Object(P.jsx)("button",{className:"continue",onClick:function(){if(O.length>0){var t=Object(b.a)(Object(b.a)({},u),{},{time:O,competitionId:e});n(function(t){return{type:"ADD_PARTICIPANT",payload:t}}(t)),s(!1),d({})}else alert("No time")},disabled:S,children:"Save"})]})]}):Object(P.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target,n=e.name,c=e.surname;if(n.value.length>0&&c.value.length>0){var i={id:Date.now(),name:n.value,surname:c.value,time:O};s(!0),d(i)}else s(!1),alert("Fill rigth form!!!")},className:"registeredForm",children:[Object(P.jsx)("input",{type:"text",name:"name",placeholder:"Enter name..."}),Object(P.jsx)("input",{type:"text",name:"surname",placeholder:"Enter surname..."}),Object(P.jsx)("button",{type:"submit",children:"Register participant"})]})})},W=function(t){var e=t.competition,n=Object(o.c)((function(t){return t.participants.participants})),c=Object(o.b)(),i=n.filter((function(t){return t.competitionId===e.id})),a=function(t){return{type:"SET_WINNER_COMPETITION",payload:t}};return Object(P.jsxs)("div",{className:"totalParticipant",children:[Object(P.jsxs)("p",{children:["Total Participant: ",i.length]}),Object(P.jsx)("button",{onClick:function(){var t=i.reduce((function(t,e){var n=h(e.time);return h(t.time)<n?t:e}),i[0]);t&&0!==t.length?c(a({id:e.id,winner:t})):alert("Have no one participants!!!")},children:"Show winner"})]})},J=function(){var t=Object(j.g)(),e=Object(j.h)().competitionId,n=Object(o.c)((function(t){return t.participants})).participants,i=Object(o.c)((function(t){return t.competitions})).competitions.filter((function(t){return t.id===e}))[0],a=e?n.filter((function(t){return t.competitionId===e})):Object(p.a)(n);return Object(c.useEffect)((function(){i||t.push("/competiton_notfound")}),[i,t]),i?"active"===i.status?Object(P.jsxs)("div",{className:"competition",children:[Object(P.jsx)("div",{className:"left",children:Object(P.jsx)(A,{competition_participants:e?a:null})}),Object(P.jsxs)("div",{className:"right",children:[Object(P.jsx)(k,{competitionId:e}),Object(P.jsx)(W,{competition:i})]})]}):Object(P.jsxs)("div",{className:"winner",children:[Object(P.jsx)("h4",{children:"Winner"}),Object(P.jsxs)("p",{children:["ID: ",i.id]}),Object(P.jsxs)("p",{children:["Name: ",i.winner.name]}),Object(P.jsxs)("p",{children:["Surname: ",i.winner.surname]}),Object(P.jsxs)("p",{children:["Winner time: ",i.winner.time]}),Object(P.jsx)("h4",{children:"Participants"}),Object(P.jsx)("div",{className:"participants",children:a.map((function(t){return Object(P.jsx)(M,{button:!1,participant:t},t.id)}))})]}):Object(P.jsx)(P.Fragment,{})},B=function(){var t=Object(j.h)().notFound;return"ReactExample"===t?Object(P.jsx)(j.a,{to:"/"}):Object(P.jsx)("div",{className:"notFound",children:Object(P.jsx)("h1",{children:"".concat("competiton_notfound"===t?"Competition":"Page"," not found!!!")})})};function L(){return Object(P.jsx)(l.a,{children:Object(P.jsx)(o.a,{store:T,children:Object(P.jsxs)("div",{className:"main",children:[Object(P.jsx)(l.b,{to:"/",children:Object(P.jsx)("button",{className:"toMain",children:"To main page"})}),Object(P.jsxs)(j.d,{children:[Object(P.jsx)(j.b,{exact:!0,path:"/",component:F}),Object(P.jsx)(j.b,{path:"/create",component:_}),Object(P.jsx)(j.b,{path:"/competition/:competitionId",component:J}),Object(P.jsx)(j.b,{path:"/:notFound",component:B})]})]})})})}r.a.render(Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(L,{})}),document.getElementById("root")),s()}},[[38,1,2]]]);
//# sourceMappingURL=main.06ce50c9.chunk.js.map